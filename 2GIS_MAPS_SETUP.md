# Интеграция 2GIS Карт для зон доставки

## Получение API ключа 2GIS

1. Перейдите на сайт [2GIS Platform](https://dev.2gis.com/)

2. Нажмите "Начать разработку" или "Sign Up"

3. Зарегистрируйтесь или войдите через существующий аккаунт

4. Перейдите в раздел "Мои проекты" → "Создать проект"

5. Заполните информацию о проекте:
   - Название проекта
   - Описание
   - Выберите продукт: **Maps API 2.0 (JS)**

6. Скопируйте полученный API ключ

## Настройка проекта

1. Создайте файл `frontend/.env` (если его нет)

2. Добавьте в него ваш API ключ:
   ```
   VITE_2GIS_API_KEY=ваш_api_ключ_здесь
   ```

3. Перезапустите проект:
   ```powershell
   docker-compose down
   docker-compose up --build
   ```

## Возможности

### Визуализация зон доставки
- Отображение всех активных зон на карте с разными цветами
- Интерактивные всплывающие подсказки при клике на зону
- Информация о стоимости доставки, минимальном заказе и времени доставки
- Автоматическое масштабирование карты для показа всех зон

### Редактирование зон
- Рисование новых зон доставки прямо на карте
- Редактирование существующих зон (перетаскивание точек)
- Удаление зон
- Визуальная настройка цвета зоны

### Как использовать

1. **Создание новой зоны**:
   - Нажмите "Добавить зону"
   - Заполните название, цвет, тарифы
   - Нажмите "Нарисовать зону"
   - Кликайте на карте, чтобы создать точки полигона (минимум 3 точки)
   - Нажмите "Завершить" когда закончите
   - Нажмите "Сохранить"

2. **Редактирование зоны**:
   - Кликните на зону в списке или на карте
   - Измените параметры или перетащите точки на карте
   - Нажмите "Сохранить"

3. **Активация/деактивация зоны**:
   - Используйте переключатель в карточке зоны
   - Неактивные зоны не отображаются на карте

## Безопасность

⚠️ **ВАЖНО**: Не коммитьте API ключ в git!

Файл `.env` уже добавлен в `.gitignore`, но проверьте это:

```gitignore
# .gitignore
frontend/.env
```

## Ограничения бесплатного тарифа

Бесплатный тариф 2GIS включает:
- **50,000 запросов в месяц** для Maps API
- Достаточно для большинства малых и средних бизнесов
- Подробности на https://dev.2gis.com/pricing

## Преимущества 2GIS

✅ Детальные карты для России, Казахстана, Узбекистана, ОАЭ, Чехии, Кипра  
✅ Актуальная информация о заведениях и организациях  
✅ Удобный интерфейс для рисования полигонов  
✅ Хорошая производительность  
✅ Бесплатный тариф с щедрыми лимитами  

## Поддержка

- Документация 2GIS Maps API: https://docs.2gis.com/en/mapgl/overview
- Примеры: https://docs.2gis.com/en/mapgl/examples
- Поддержка: support@2gis.com
